<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">
    <title>My personal website</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no"/>
    <link rel="stylesheet" type="text/css" href="css/reset.css" />
<style>
*{
  font-family: "微软雅黑";
}
  #loading{
    background-color: #1E1E20;
    height: 100%;
    width: 100%;
    position: fixed;
    z-index: 1;
    margin-top: 0px;
    top: 0px;
  }
  #loading-center{
    width: 100%;
    height: 100%;
    position: relative;
    }
  #loading-center-absolute {
    position: absolute;
    left: 50%;
    top: 50%;
    height: 20px;
    width: 100px;
    margin-top: -10px;
    margin-left: -50px;

  }
  .object{
    width: 20px;
    height: 20px;
    background-color: #FFF;
    -moz-border-radius: 50% 50% 50% 50%;
    -webkit-border-radius: 50% 50% 50% 50%;
    border-radius: 50% 50% 50% 50%;
    margin-right: 20px;
    margin-bottom: 20px;
    position: absolute; 
  }
  #object_one{
    -webkit-animation: object 2s linear infinite;
     animation: object 2s linear infinite;
     }
  #object_two{ 
    -webkit-animation: object 2s linear infinite -.4s;
    animation: object 2s linear infinite -.4s;
     }
  #object_three{ 
    -webkit-animation: object 2s linear infinite -.8s; 
    animation: object 2s linear infinite -.8s; 
    }
  #object_four{ 
    -webkit-animation: object 2s linear infinite -1.2s;
    animation: object 2s linear infinite -1.2s; 
    } 
  #object_five{ 
    -webkit-animation: object 2s linear infinite -1.6s; 
    animation: object 2s linear infinite -1.6s; 
    }
  @-webkit-keyframes object{
    0% { left: 100px; top:0}
    80% { left: 0; top:0;}
    85% { left: 0; top: -20px; width: 20px; height: 20px;}
    90% { width: 40px; height: 15px; }
    95% { left: 100px; top: -20px; width: 20px; height: 20px;}
    100% { left: 100px; top:0; }    
    
  }   
  @keyframes object{
    0% { left: 100px; top:0}
    80% { left: 0; top:0;}
    85% { left: 0; top: -20px; width: 20px; height: 20px;}
    90% { width: 40px; height: 15px; }
    95% { left: 100px; top: -20px; width: 20px; height: 20px;}
    100% { left: 100px; top:0; }
  } 
  .progress{
    font-size: 18px;
    color:#fff;
    position:absolute;
    left:50%;
    top: 54%;
    margin-left: -15px;
    z-index: 100;
  }
  </style>
  <!--[if IE]>
    <script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
  <![endif]-->
<!-- <script src="js/prefixfree.min.js"></script> -->
  </head>
  <body>
    <div id="loading">
      <div id="loading-center">
        <div id="loading-center-absolute">
          <div class="object" id="object_one"></div>
          <div class="object" id="object_two" style="left:20px;"></div>
          <div class="object" id="object_three" style="left:40px;"></div>
          <div class="object" id="object_four" style="left:60px;"></div>
          <div class="object" id="object_five" style="left:80px;"></div>
        </div>
      </div> 
   </div>
      <div style="display:none">
        <img src="img/ajax.png" alt="">
        <img src="img/angular.png" alt="">
        <img src="img/apple.png" alt="">
        <img src="img/baidu.png" alt="">
        <img src="img/banner1.jpg" alt="">
        <img src="img/bg101.png" alt="">
        <img src="img/black-bg.jpg" alt="">
        <img src="img/bootstrape.png" alt="">
        <img src="img/canvas-game.png" alt="">
        <img src="img/cartsmart.png" alt="">
        <img src="img/circle2.png" alt="">
        <img src="img/circle3.png" alt="">
        <img src="img/contact.jpg" alt="">
        <img src="img/cont-bg.jpg" alt="">
        <img src="img/css3.png" alt="">
        <img src="img/cwhl.png" alt="">
        <img src="img/dot.png" alt="">
        <img src="img/draw.png" alt="">
        <img src="img/eraser.png" alt="">
        <img src="img/fullpage.png" alt="">
        <img src="img/github.png" alt="">
        <img src="img/gray-bg.jpg" alt="">
        <img src="img/h5.png" alt="">
        <img src="img/hnz-stu-more.png" alt="">
        <img src="img/jd.png" alt="">
        <img src="img/ie.png" alt="">
        <img src="img/jd.png" alt="">
        <img src="img/jquery.png" alt="">
        <img src="img/js.png" alt="">
        <img src="img/kajax.png" alt="">
        <img src="img/kbootstrape.png" alt="">
        <img src="img/kcss3.png" alt="">
        <img src="img/kfullpage.png" alt="">
        <img src="img/kgithub.png" alt="">
        <img src="img/kh5.png" alt="">
        <img src="img/kjquery.png" alt="">
        <img src="img/kjs.png" alt="">
        <img src="img/kmobile.png" alt="">
        <img src="img/less.png" alt="">
        <img src="img/mobile.png" alt="">
        <img src="img/nodejs.png" alt="">
        <img src="img/saolei.png" alt="">
        <img src="img/section1.png" alt="">
        <img src="img/section1.png" alt="">
        <img src="img/shoes.png" alt="">
        <img src="img/snake.png" alt="">
        <img src="img/suning.png" alt="">
        <img src="img/tmao.png" alt="">
        <img src="img/todolist.png" alt="">
        <img src="img/welcome2.png" alt="">
        <img src="img/wnagyi.png" alt="">
        <img src="img/xjn-bg1.png" alt="">
        <img src="img/xjn-bg2.png" alt="">
        <img src="img/xjn-bg3.png" alt="">
        <img src="img/xjn-bg22.png" alt="">
        <img src="img/xjn-title1.png" alt="">
        <img src="img/xys.png" alt="">
        <img src="img/yd.png" alt="">
        <img src="img/yt.png" alt="">
    </div>
  </body>
  <script>
    var imgs=document.getElementsByTagName("img");
    var loader=document.getElementsByClassName("loader")[0];
    var progress=document.querySelector('.progress');
    var arr=[];
    var text=document.querySelector('.text');
    for (var i = 0; i < imgs.length; i++) {
        arr.push(imgs[i].src)
    };
    imgload(arr,function(bili){
      bili=bili.toFixed(2);
      // console.log(bili)
      // progress.innerHTML=bili*100+"%";
        if(bili==1){
         location.href="homepage.html"
        }
    });
function imgload(arr,callback) {
    function imgLoader(arr,callback) {
        this.length = arr.length;
        this.current = 0;
        this.loaded(callback)
    }
    imgLoader.prototype = {
        loaded: function (callback) {
            if (this.current == this.length) {
                return;
            }
            var that = this;
            var imgObj = new Image();
            imgObj.src = arr[this.current];
            imgObj.onload=imgObj.onerror= function () {
                var bili = that.current / that.length;
                callback(bili);
                that.loaded(callback);
                that.current++;
            }
        }
    }
    new imgLoader(arr,callback)
}   
  </script>
</html>
